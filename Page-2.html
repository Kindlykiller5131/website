<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <section>
        <form>
            <h1>Login</h1>
            <div class="inputbox">
                <ion-icon name="mail-outline"></ion-icon>
                <input type="email" required>
                <label for="">Email</label>
            </div>
            <div class="inputbox">
                <ion-icon name="lock-closed-outline"></ion-icon>
                <input type="password" required>
                <label for="">Password</label>
            </div>
            <div class="forget">
                <label for=""><input type="checkbox">Remember Me</label>
              <a href="#">Forget Password</a>
            </div>
<button onclick="validateLogin()">Log in</button>

 <script>
  function validateLogin() {
    var email = document.getElementById('emailInput').value;
    var password = document.getElementById('passwordInput').value;
      fetch('http://localhost:3000/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: new URLSearchParams({
           username: email,
           password: password,
    }),
  })
    .then((response) => response.text())
    .then((data) => {
       alert(data); // Alert the response from the server
       if (data === 'Login successful!') {
        window.location.href = 'dashboard.html'; // Redirect to the dashboard if login is successful
                  }
                })
                .catch((error) => {
                  console.error('Error:', error);
                });
            }
          </script>

            <div class="register">
                <p>Don't have a account <a href="register.html">Register</a></p>
            </div>
            </div>
        </form>
    </section>
</body>
</html>